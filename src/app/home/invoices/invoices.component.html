<form class="example-form">
  <mat-form-field appearance="fill">
    <mat-label>Clients</mat-label>
    <mat-select [(value)]="clientId" (selectionChange)="clientChanged()">
      <mat-option>-- Any --</mat-option>
      <mat-option *ngFor="let client of clients | async" [value]="client.id">
        {{client.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Projects</mat-label>
    <mat-select [(value)]="projectId">
      <mat-option>-- Any --</mat-option>
      <mat-option *ngFor="let project of projects | async" [value]="project.id">
        {{project.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>From</mat-label>
    <input matInput [matDatepicker]="fromPicker" [(ngModel)]="from" name="from">
    <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
    <mat-datepicker #fromPicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>To</mat-label>
    <input matInput [matDatepicker]="toPicker" [(ngModel)]="to" name="to">
    <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
    <mat-datepicker #toPicker></mat-datepicker>
  </mat-form-field>
</form>

<mat-spinner diameter="20" *ngIf="loading | async"></mat-spinner>

<app-invoices-save [clientId]="clientId" [projectId]="projectId" [from]="from" [to]="to"></app-invoices-save>

<app-harvest-invoices [clientId]="clientId" [projectId]="projectId" [from]="from" [to]="to"></app-harvest-invoices>
